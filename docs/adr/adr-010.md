# ADR-010: Technology Stack and Deployment Strategy

Status: Accepted
Date: 2026-01-15

## Context

Mission: Possible requires a technology stack that is:

- Modern and maintainable
- Accessible to the development team
- Suitable for a medium-complexity internal application
- Capable of supporting future external partner access

## Decision

Adopt a modern full-stack JavaScript/TypeScript architecture:

### Frontend

- **Framework**: Next.js 14+ (React-based, with App Router)
- **Styling**: Tailwind CSS with MHFA brand colour tokens
- **Component Library**: Shadcn/ui for accessible, customisable components
- **State Management**: React Query for server state, Zustand for client state (if needed)

### Backend

- **API**: Next.js API Routes (serverless functions) or dedicated Node.js/Express API
- **Database**: PostgreSQL (recommended for relational data integrity)
- **ORM**: Prisma for type-safe database access
- **Authentication**: NextAuth.js with Microsoft Entra ID (Azure AD) SSO

### Infrastructure

- **Hosting**: Vercel (optimal for Next.js) or Azure App Service
- **Database Hosting**: Supabase, Neon, or Azure PostgreSQL
- **File Storage**: Azure Blob Storage or AWS S3 for attachments
- **Email**: Microsoft 365 / SendGrid for notifications

## Alternatives Considered

### Low-code platforms (e.g., Retool, Appsmith)

- **Pros**: Faster initial build
- **Cons**: Limited customisation, scalability concerns, vendor lock-in

### Separate backend (e.g., NestJS + React SPA)

- **Pros**: Clear separation of concerns
- **Cons**: Higher operational complexity for a small team

## Consequences

### Positive

- Single codebase simplifies development and deployment
- Strong TypeScript support reduces runtime errors
- Vercel provides excellent DX and automatic scaling
- Prisma ensures database schema consistency

### Negative

- Requires JavaScript/TypeScript expertise
- Serverless cold starts may affect latency (mitigated by Vercel optimisations)
